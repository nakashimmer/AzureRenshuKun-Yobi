<!DOCTYPE html>
<html>
	<head>
		<!-- Google Analytics -->
		<script src="/tawsRenshuKunYobi/ga.js"></script>
		<meta charset=utf-8>
		<title>★エディタ</title>
		<meta name="viewport" content="width=900">
		<link href="https://fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet">
		<link rel="stylesheet" href="style.css">
		<script src="jquery-1.11.1.js"></script>
	</head>
	<body>
		<div id=wrap>
			<h1>簡易テキストエディタ（予備）</h1>
			<form method="post" action="action.php" id="form1">
				<p>①ニックネーム入力: <input type="text" name="name" id="name" placeholder="ニックネーム" required>
				</p>
				<p>②コード入力: </p>
				<div id=outer>
					<div id="no"></div>
					<textarea id="editor" name="code" spellcheck="false">
						test
					</textarea>
				</div>
			</form>
			<div class=flex>
				<!-- ボタンの一覧 -->
				<button id="btn" class="btn">③閲覧</button>
				<a class="btn" id="download" href="#" download="noname.html" onclick="dl()">⑥DL</a>
				<button id="temp" class="temp btn">テンプレ反映</button>
				<!-- /ボタンの一覧 -->
				<button id="clrbtn" class="btn">⑦消去</button>
				<input class=" btn" type="submit" value="⑧検証" form="w3c">
			</div>
			<!-- DL -->
			<script>
				function dl() {
					var content = $id("editor").value;
					var blob = new Blob([content], { "type": "text/plain" });
					$id("download").href = window.URL.createObjectURL(blob);
				}
			</script>
			<!-- /DL -->
		</div>
		<form target="_blank" id="w3c" method="post" enctype="multipart/form-data" action="https://validator.w3.org/check">
			<textarea id="w3cta" name="fragment" style="display:none;"></textarea>
			<input type="hidden" name="prefill" value="0">
			<input type="hidden" name="doctype" value="Inline">
			<input type="hidden" name="prefill_doctype" value="html5">
		</form>
		<script src="editor.js"></script>
		<script>
			$id("temp").addEventListener(
				"click", function () {
					$id("editor").value = `<!DOCTYPE html>`;
				}
			);
		</script>
	</body>
</html>